<!DOCTYPE html>
<html>
  <head lang="en">
    <style>
      .search {
        margin: 0 auto;
        width: 800px;
      }

      .user-avatar {
        float: left;
        margin-right: 12px;
        width: 40px;
        border-radius: 40px;
      }

      .results {
        margin-top: 40px;
      }
    </style>

    <!-- Init -->
    <title>Yellow Pages</title>
    <meta charset="UTF-8">

    <!-- Load the css files-->
    <link rel="stylesheet" href="vendor/bootstrap.css" />
    <link rel="stylesheet" href="peopleModule/peopleCss.css" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <link href='peopleModule/klarna-ui-css-components.css' rel='stylesheet' type='text/css'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.min.css" type='text/css'/>

  </head>

  <body ng-app="SearchApp">
    <div class="container" ng-controller="peopleCtrl">

      <header>
        <h1 class="text-center main-title">Yellow Pages</h1>
      </header>

      <section class="search">
      <div class="row">
        <div class="cui__selector--direct__title">Enter your search query here:</div>
        <br>
        <form name="searchForm">
          <div id="custom-search-input">
            <div class="input-group col-md-12">
              <!--<tags-input ng-model="tags" class="search-query form-control" placeholder="Search" display-property="name"</tags-input><br>-->
              <input type="text" class="search-query form-control" name="searchField" placeholder="Search" ng-model="searchQuery" required/>
              <span class="input-group-btn">
                  <button class="btn btn-danger" type="button" ng-click="search()" ng-disabled="searchForm.$invalid">
                      <span class="glyphicon glyphicon-search"></span>
                  </button>
              </span>
            </div>
            <p ng-show="searchForm.searchField.$error.required && searchForm.searchField.$dirty" class="error">Illegal query: Query is required.</p>
          </div>
        </form>
      </div>

        <div class="results">
          <div class="row cui__selector--direct title">
            <h1 class="cui__selector--direct__title"> Search results </h1> <br>
            </div>
          <div ng-if="peopleSearch.length == 0">
            <h6>No results, please review your search or try a different one.</h6>
          </div>
          <div ng-if="peopleSearch.length > 0">
            <div ng-repeat="person in peopleSearch">
              <div class="cui__selector--direct__item">
                <img class="user-avatar" src="{{person.avatar_origin}}" />
                <div class="cui__selector--direct__label">
                  <b>{{person.name}}</b>, {{person.age}}
                </div>
                <p class="cui__selector--direct__description">
                  <b>Address:</b> {{person.address.street}}, {{person.address.city}}, {{person.address.country}}. <b>Phone:</b> {{person.phone}}.
                </p>
              </div>
            </div>
            <br>
            <div class="row input-group col-md-12 text-center">
              <button class="btn btn-block" type="button" ng-click="loadMore()" ng-disabled="isEnd">Load More </button>
            </div>
            <br>
          </div>
        </div>

      </section>
    </div>

    <!-- Add all scripts -->
    <script src="vendor/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.min.js"></script>
    <script src="vendor/moment.js"></script>
    <script src="appModule.js"></script>
    <script src="peopleModule/peopleCtrl.js"></script>
    <script src="peopleModule/peopleFactory.js"></script>

  </body>
</html>
